(this.webpackJsonpsecond_project=this.webpackJsonpsecond_project||[]).push([[0],{21:function(e,t,n){e.exports={myModal:"MyModal_myModal__2tyRE",myModalContent:"MyModal_myModalContent__1pOza",active:"MyModal_active__1l3mE"}},34:function(e,t,n){},36:function(e,t,n){e.exports={myBtn:"MyButton_myBtn__1rqi-"}},37:function(e,t,n){e.exports={myInput:"MyInput_myInput__1bS5J"}},40:function(e,t,n){e.exports={loader:"Loader_loader__1bkL5",rotate:"Loader_rotate__23CcD"}},42:function(e,t,n){e.exports={mySelect:"MySelect_mySelect__3dGwa"}},76:function(e,t,n){"use strict";n.r(t);var c=n(15),r=n.n(c),a=n(4),s=n(1),o=n.n(s),i=n(14),u=n(2),l=Object(s.createContext)(null),j=n(0);var b=n(7),p=n(35),d=n(36),O=n.n(d),h=["children"];function f(e){var t=e.children,n=Object(p.a)(e,h);return Object(j.jsx)("button",Object(b.a)(Object(b.a)({},n),{},{className:O.a.myBtn,children:t}))}var x=n(37),m=n.n(x),v=o.a.forwardRef((function(e,t){return Object(j.jsx)("input",Object(b.a)({ref:t,className:m.a.myInput},e))}));var y=n(6),g=n.n(y),_=n(12),w=n(38),C=n(39),k=n(20),N=n.n(k),S=function(){function e(){Object(w.a)(this,e)}return Object(C.a)(e,null,[{key:"getAll",value:function(){var e=Object(_.a)(g.a.mark((function e(){var t,n,c,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=4,N.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCommentsByPostId",value:function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=n(40),M=n.n(I);function A(){return Object(j.jsx)("div",{className:M.a.loader})}function E(e){var t=Object(s.useState)(!1),n=Object(a.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(""),i=Object(a.a)(o,2),u=i[0],l=i[1];return[function(){var t=Object(_.a)(g.a.mark((function t(){var n=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,e.apply(void 0,n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),l(t.t0.message);case 9:return t.prev=9,r(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),c,u]}var B=n(17),P=(n(34),n(79)),D=n(78);function L(e){var t=Object(u.g)();return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsxs)("div",{className:"post__content",children:[Object(j.jsxs)("strong",{children:[e.number,". ",Object(j.jsx)("span",{children:e.post.title})]}),Object(j.jsx)("div",{children:e.post.body})]}),Object(j.jsxs)("div",{className:"post__btns",children:[Object(j.jsx)(f,{className:"post__btn",onClick:function(){return t.push("/posts/".concat(e.post.id))},children:"Open"}),Object(j.jsx)(f,{onClick:function(){return e.remove(e.post)},children:"Delate"})]})]})}function R(e){var t=e.posts,n=e.title,c=e.remove;return t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{textAlign:"center"},children:n}),Object(j.jsx)(P.a,{children:t.map((function(e,t){return Object(j.jsx)(D.a,{timeout:500,classNames:"post",children:Object(j.jsx)(L,{remove:c,number:t+1,post:e})},e.id)}))})]}):Object(j.jsx)("h1",{style:{textAlign:"center"},children:"Posts not found!"})}function q(e){var t=e.create,n=Object(s.useState)({title:"",body:""}),c=Object(a.a)(n,2),r=c[0],o=c[1];return Object(j.jsxs)("form",{children:[Object(j.jsx)(v,{value:r.title,onChange:function(e){return o(Object(b.a)(Object(b.a)({},r),{},{title:e.target.value}))},type:"text",placeholder:"Post name"}),Object(j.jsx)(v,{value:r.body,onChange:function(e){return o(Object(b.a)(Object(b.a)({},r),{},{body:e.target.value}))},type:"text",placeholder:"Post description"}),Object(j.jsx)(f,{onClick:function(e){e.preventDefault();var n=Object(b.a)(Object(b.a)({},r),{},{id:Date.now()});t(n),o({title:"",body:""})},children:"Create post"})]})}var T=n(42),V=n.n(T);function F(e){var t=e.options,n=e.defaultValue,c=e.value,r=e.onChange;return Object(j.jsxs)("select",{className:V.a.mySelect,value:c,onChange:function(e){return r(e.target.value)},children:[Object(j.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.name},e.value)}))]})}function J(e){var t=e.filter,n=e.setFilter;return Object(j.jsxs)("div",{children:[Object(j.jsx)(v,{placeholder:"Find...",value:t.query,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{query:e.target.value}))}}),Object(j.jsx)(F,{value:t.sort,onChange:function(e){return n(Object(b.a)(Object(b.a)({},t),{},{sort:e}))},defaultValue:"Sort on",options:[{value:"title",name:"Name"},{value:"body",name:"Description"}]})]})}var Y=n(21),z=n.n(Y);function G(e){var t=e.children,n=e.visible,c=e.setVisible,r=[z.a.myModal];return n&&r.push(z.a.active),Object(j.jsx)("div",{className:r.join(" "),onClick:function(){return c(!1)},children:Object(j.jsx)("div",{className:z.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})}function H(e,t,n){var c=function(e,t){return Object(s.useMemo)((function(){return t?Object(B.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(s.useMemo)((function(){return c.filter((function(e){return e.title.toLowerCase().includes(n)}))}),[n,c])}function K(e,t){return Math.ceil(e/t)}var Q=[{path:"/about",component:function(){return Object(j.jsxs)("div",{className:"about-app",children:[Object(j.jsx)("h1",{children:"This application implements this functionality:"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:"Registration form, which gives access only to registered user."}),Object(j.jsx)("li",{children:"Endless loading of posts, when you scroll to the last post are load a new portion of posts."}),Object(j.jsx)("li",{children:'Also, you may create a post to push the button "Create post".'}),Object(j.jsx)("li",{children:"Implemented searching to words, you need a start to enter the words in the searching input."}),Object(j.jsx)("li",{children:"You may filter posts on name or description."}),Object(j.jsx)("li",{children:"You may open and delete posts, pushing these buttons."})]})]})},exact:!0},{path:"/posts",component:function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)({sort:"",query:""}),o=Object(a.a)(r,2),i=o[0],u=o[1],l=Object(s.useState)(!1),b=Object(a.a)(l,2),p=b[0],d=b[1],O=Object(s.useState)(0),h=Object(a.a)(O,2),x=h[0],m=h[1],v=Object(s.useState)(10),y=Object(a.a)(v,2),w=y[0],C=(y[1],Object(s.useState)(1)),k=Object(a.a)(C,2),N=k[0],I=k[1],M=H(n,i.sort,i.query),P=Object(s.useRef)(),D=E(function(){var e=Object(_.a)(g.a.mark((function e(t,r){var a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAll(t,r);case 2:a=e.sent,c([].concat(Object(B.a)(n),Object(B.a)(a.data))),s=a.headers["x-total-count"],m(K(s,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(a.a)(D,3),T=L[0],V=L[1],F=L[2];return function(e,t,n,c){var r=Object(s.useRef)();Object(s.useEffect)((function(){n||(r.current&&r.current.disconnect(),r.current=new IntersectionObserver((function(e,n){e[0].isIntersecting&&t&&c()})),r.current.observe(e.current))}),[n])}(P,N<x,V,(function(){I(N+1)})),Object(s.useEffect)((function(){T(w,N)}),[N,w]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{style:{marginTop:30},onClick:function(){return d(!0)},children:"Create post"}),Object(j.jsx)(G,{visible:p,setVisible:d,children:Object(j.jsx)(q,{create:function(e){c([].concat(Object(B.a)(n),[e])),d(!1)}})}),Object(j.jsx)("hr",{style:{margin:"15px 0"}}),Object(j.jsx)(J,{filter:i,setFilter:u}),F&&Object(j.jsxs)("h1",{style:{textAlign:"center",marginTop:"30px"},children:["Error! ",F]}),Object(j.jsx)(R,{remove:function(e){c(n.filter((function(t){return t.id!==e.id})))},posts:M,title:"Post list"}),Object(j.jsx)("div",{ref:P,className:"post__last-element"}),V&&Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:30},children:Object(j.jsx)(A,{})})]})},exact:!0},{path:"/posts/:id",component:function(){var e=Object(u.h)(),t=Object(s.useState)({}),n=Object(a.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)([]),i=Object(a.a)(o,2),l=i[0],b=i[1],p=E(function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getById(t);case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(a.a)(p,2),O=d[0],h=d[1],f=E(function(){var e=Object(_.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getCommentsByPostId(t);case 2:n=e.sent,b(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(a.a)(f,1)[0];return Object(s.useEffect)((function(){O(e.id),x(e.id)}),[]),Object(j.jsxs)("div",{className:"post__id-page",children:[Object(j.jsxs)("h2",{children:["You opened the page post with ID ",e.id,"!"]}),h?Object(j.jsx)(A,{}):Object(j.jsxs)("div",{className:"post__id-page_title",children:[c.id,". ",c.title]}),Object(j.jsx)("h3",{className:"post__id-page_coments",children:"Customer comments:"}),h?Object(j.jsx)(A,{}):Object(j.jsx)("div",{children:l.map((function(e){return Object(j.jsxs)("div",{className:"post__id-page_coment",style:{marginTop:15},children:[Object(j.jsx)("h4",{children:e.email}),Object(j.jsx)("div",{children:e.body})]},e.id)}))})]})},exact:!0}],U=[{path:"/login",component:function(){var e=Object(s.useContext)(l).setIsAuth;return Object(j.jsxs)("div",{className:"login-page",children:[Object(j.jsx)("h1",{children:"Login in"}),Object(j.jsx)("p",{children:"since backend not using you may push button Enter without login and password!"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(!0),localStorage.setItem("auth","true")},children:[Object(j.jsx)(v,{type:"text",placeholder:"Enter login"}),Object(j.jsx)(v,{type:"password",placeholder:"Enter password"}),Object(j.jsx)(f,{children:"Enter"})]})]})},exact:!0}];function W(){var e=Object(s.useContext)(l),t=e.isAuth;return e.isLoading?Object(j.jsx)(A,{}):t?Object(j.jsxs)(u.d,{children:[Q.map((function(e){return Object(j.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(j.jsx)(u.a,{to:"/posts"})]}):Object(j.jsxs)(u.d,{children:[U.map((function(e){return Object(j.jsx)(u.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(j.jsx)(u.a,{to:"/login"})]})}function X(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"\xa9"})," React App, 2021"]})})}function Z(){var e=Object(s.useContext)(l).setIsAuth;return Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)(f,{onClick:function(){e(!1),localStorage.removeItem("auth")},children:"Out"}),Object(j.jsxs)("div",{className:"navbar__links",children:[Object(j.jsx)(i.b,{className:"navbar__link",to:"/about",children:"About"}),Object(j.jsx)(i.b,{className:"navbar__link",to:"/posts",children:"Posts"})]})]})}function $(){var e=Object(s.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!0),o=Object(a.a)(r,2),u=o[0],b=o[1];return Object(s.useEffect)((function(){localStorage.getItem("auth")&&c(!0),b(!1)}),[]),Object(j.jsxs)(l.Provider,{value:{isAuth:n,setIsAuth:c,isLoading:u},children:[Object(j.jsxs)(i.a,{children:[Object(j.jsx)(Z,{}),Object(j.jsx)(W,{})]}),Object(j.jsx)(X,{})]})}r.a.render(Object(j.jsx)($,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.c451fee9.chunk.js.map